<!DOCTYPE html>
<html lang="en" class="transition duration-300">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>N-Queen Visualiser</title>

    <!-- ✅ Tailwind darkMode config (MUST be before CDN) -->
    <script>
      window.tailwind = {
        config: {
          darkMode: 'class',
        },
      };
    </script>

    <!-- ✅ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
    />
  </head>

  <body class="bg-orange-100 dark:bg-black min-h-screen font-sans text-gray-800 dark:text-orange-500 transition duration-300">
    <!-- Header -->
    <header class="bg-orange-600 dark:bg-black text-white dark:text-orange-400 py-4 text-center shadow relative">
      <h2 class="text-2xl font-bold">
        N-Queens Visualiser <i class="fas fa-crown text-yellow-300 dark:text-yellow-500"></i>
      </h2>
      <button
        id="toggle-mode"
        class="absolute top-4 right-4 bg-white dark:bg-gray-900 text-orange-700 dark:text-yellow-400 px-3 py-1 rounded-lg shadow hover:bg-yellow-100 dark:hover:bg-gray-800 transition"
      >
        <i class="fas fa-moon dark:hidden"></i>
        <i class="fas fa-sun hidden dark:inline"></i>
      </button>
    </header>

    <!-- Input and Controls -->
    <div class="mt-8 flex flex-col items-center gap-6">
      <!-- Input Field -->
      <div class="relative w-72">
        <input
          type="number"
          id="numberbox"
          class="peer w-full border-b-2 border-orange-600 dark:border-orange-400 bg-transparent px-2 py-2 text-base placeholder-transparent text-black dark:text-orange-300 focus:outline-none"
          placeholder="Enter total Queens"
          required
        />
        <label
          for="numberbox"
          class="absolute left-2 top-2 text-orange-600 dark:text-orange-400 text-sm transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-orange-400/60 peer-focus:top-2 peer-focus:text-sm peer-focus:text-orange-600 dark:peer-focus:text-orange-400"
        >
          Enter total Queens
        </label>
      </div>

      <!-- Slider -->
      <div class="w-72">
        <div class="flex justify-between text-sm font-medium text-orange-700 dark:text-orange-400 mb-1 px-1">
          <span>SLOW</span>
          <span>FAST</span>
        </div>
        <div class="relative">
          <input
            type="range"
            id="slider"
            min="0"
            max="100"
            value="60"
            class="w-full h-2 bg-orange-300 dark:bg-orange-700 rounded-lg appearance-none cursor-pointer"
          />
          <div
            id="progress-bar"
            class="absolute top-0 left-0 h-2 bg-yellow-400 dark:bg-yellow-500 rounded-lg"
            style="width: 60%"
          ></div>
        </div>
      </div>

      <!-- Play Button -->
      <button
        id="play-button"
        class="mt-4 bg-orange-700 dark:bg-orange-400 text-white dark:text-black px-6 py-2 rounded-lg font-semibold hover:bg-orange-800 dark:hover:bg-orange-300 transition"
      >
        <i class="fa fa-play mr-2"></i> Play
      </button>
    </div>

    <!-- Arrangement Message -->
    <div id="queen-arrangement" class="mt-10 text-center text-lg font-medium text-orange-800 dark:text-orange-400"></div>

    <!-- Boards Display -->
    <div id="n-queen-board" class="flex flex-wrap justify-center gap-6 mt-8 px-4"></div>

    <!-- Styles for chessboard squares -->
    <style>
      .black-cell {
        background-color: #000000;
        color: white;
      }

      .white-cell {
        background-color: #ffffff;
        color: black;
      }

      table {
        border-collapse: collapse;
      }

      td {
        width: 35px;
        height: 35px;
        text-align: center;
        vertical-align: middle;
        border: 1px solid #373f51;
      }
    </style>

    <!-- JS Logic -->
    <script src="app.js"></script>

    <!-- Dark Mode Toggle -->
    <script>
      const toggleButton = document.getElementById("toggle-mode");
      const htmlEl = document.documentElement;

      // Toggle and store in localStorage
      toggleButton.addEventListener("click", () => {
        htmlEl.classList.toggle("dark");
        localStorage.setItem("theme", htmlEl.classList.contains("dark") ? "dark" : "light");
      });

      // Load stored theme
      if (localStorage.getItem("theme") === "dark") {
        htmlEl.classList.add("dark");
      }
    </script>
  </body>
</html>
